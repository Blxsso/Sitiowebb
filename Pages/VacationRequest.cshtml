@page
@model Sitiowebb.Pages.VacationRequestModel
@{
    ViewData["Title"] = "Vacation request";
    Layout = "/Pages/Shared/_Layout.cshtml";
}

<div class="req-wrap container py-5">
    <div class="req-card mx-auto">
        <h2 class="req-title mb-4">Vacation request</h2>

        <form method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

            <div class="mb-3">
                <label asp-for="From" class="form-label">From (dd/mm/yyyy)</label>
                <input asp-for="From" class="form-control req-input"
                       id="from" inputmode="numeric" placeholder="00/00/0000" maxlength="10" />
                <span class="text-danger" asp-validation-for="From"></span>
            </div>

            <div class="mb-4">
                <label asp-for="To" class="form-label">To (dd/mm/yyyy)</label>
                <input asp-for="To" class="form-control req-input"
                       id="to" inputmode="numeric" placeholder="00/00/0000" maxlength="10" />
                <span class="text-danger" asp-validation-for="To"></span>
            </div>

            <button type="submit" class="btn btn-success btn-lg px-5">Request</button>
        </form>
    </div>
</div>

@section Scripts{
    <partial name="_ValidationScriptsPartial" />
    <script>
        // Solo números y coloca automáticamente dd/mm/aaaa
        function maskDateInput(el){
            let v = el.value.replace(/\D/g, '');
            if (v.length > 8) v = v.slice(0, 8);
            if (v.length >= 5) el.value = v.slice(0,2) + '/' + v.slice(2,4) + '/' + v.slice(4);
            else if (v.length >= 3) el.value = v.slice(0,2) + '/' + v.slice(2);
            else el.value = v;
        }
        const from = document.getElementById('from');
        const to   = document.getElementById('to');
        from.addEventListener('input', () => maskDateInput(from));
        to.addEventListener('input',   () => maskDateInput(to));
    </script>
}

<style>
    .req-card{
        max-width: 640px;
        background:#fff;
        border-radius:14px;
        border:2px solid #2e6a3a33;
        box-shadow:0 16px 40px rgba(0,0,0,.12);
        padding: clamp(20px, 4vw, 36px);
    }
    .req-title{ color:#2e6a3a; font-weight:800; }
    .req-input{
        height:68px; font-size:28px; font-weight:600;
        color:#999; background:#efefef; border:none;
        border-radius:12px; padding:10px 18px;
    }
    .req-input::placeholder{ color:#cfcfcf; }
</style>
